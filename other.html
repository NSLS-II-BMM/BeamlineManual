

<!DOCTYPE html>


<html lang="en" data-content_root="" >

  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="generator" content="Docutils 0.19: https://docutils.sourceforge.io/" />

    <title>10. Other measurement needs &#8212; BMM Beamline Manual 0.1 documentation</title>
  
  
  
  <script data-cfasync="false">
    document.documentElement.dataset.mode = localStorage.getItem("mode") || "";
    document.documentElement.dataset.theme = localStorage.getItem("theme") || "";
  </script>
  
  <!-- Loaded before other Sphinx assets -->
  <link href="_static/styles/theme.css?digest=dfe6caa3a7d634c4db9b" rel="stylesheet" />
<link href="_static/styles/bootstrap.css?digest=dfe6caa3a7d634c4db9b" rel="stylesheet" />
<link href="_static/styles/pydata-sphinx-theme.css?digest=dfe6caa3a7d634c4db9b" rel="stylesheet" />

  
  <link href="_static/vendor/fontawesome/6.5.2/css/all.min.css?digest=dfe6caa3a7d634c4db9b" rel="stylesheet" />
  <link rel="preload" as="font" type="font/woff2" crossorigin href="_static/vendor/fontawesome/6.5.2/webfonts/fa-solid-900.woff2" />
<link rel="preload" as="font" type="font/woff2" crossorigin href="_static/vendor/fontawesome/6.5.2/webfonts/fa-brands-400.woff2" />
<link rel="preload" as="font" type="font/woff2" crossorigin href="_static/vendor/fontawesome/6.5.2/webfonts/fa-regular-400.woff2" />

    <link rel="stylesheet" type="text/css" href="_static/pygments.css" />
    <link rel="stylesheet" type="text/css" href="_static/styles/sphinx-book-theme.css" />
  
  <!-- Pre-loaded scripts that we'll load fully later -->
  <link rel="preload" as="script" href="_static/scripts/bootstrap.js?digest=dfe6caa3a7d634c4db9b" />
<link rel="preload" as="script" href="_static/scripts/pydata-sphinx-theme.js?digest=dfe6caa3a7d634c4db9b" />
  <script src="_static/vendor/fontawesome/6.5.2/js/all.min.js?digest=dfe6caa3a7d634c4db9b"></script>

    <script data-url_root="./" id="documentation_options" src="_static/documentation_options.js"></script>
    <script src="_static/doctools.js"></script>
    <script src="_static/sphinx_highlight.js"></script>
    <script src="_static/scripts/sphinx-book-theme.js"></script>
    <script>DOCUMENTATION_OPTIONS.pagename = 'other';</script>
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="11. Beamline automation" href="automation.html" />
    <link rel="prev" title="9. XAFS scans" href="xafs.html" />

    <link rel="stylesheet" type="text/css" href="_static/demeter.css" />
    <link rel="stylesheet" type="text/css" href="_static/keys.css" />
    <link rel="stylesheet" type="text/css" href="_static/program.css" />
    <link rel="stylesheet" type="text/css" href="_static/color.css" />

  </head>
  
  
  <body data-bs-spy="scroll" data-bs-target=".bd-toc-nav" data-offset="180" data-bs-root-margin="0px 0px -60%" data-default-mode="">

  
  
  <div id="pst-skip-link" class="skip-link d-print-none"><a href="#main-content">Skip to main content</a></div>
  
  <div id="pst-scroll-pixel-helper"></div>
  
  <button type="button" class="btn rounded-pill" id="pst-back-to-top">
    <i class="fa-solid fa-arrow-up"></i>Back to top</button>

  
  <input type="checkbox"
          class="sidebar-toggle"
          id="pst-primary-sidebar-checkbox"/>
  <label class="overlay overlay-primary" for="pst-primary-sidebar-checkbox"></label>
  
  <input type="checkbox"
          class="sidebar-toggle"
          id="pst-secondary-sidebar-checkbox"/>
  <label class="overlay overlay-secondary" for="pst-secondary-sidebar-checkbox"></label>
  
  <div class="search-button__wrapper">
    <div class="search-button__overlay"></div>
    <div class="search-button__search-container">
<form class="bd-search d-flex align-items-center"
      action="search.html"
      method="get">
  <i class="fa-solid fa-magnifying-glass"></i>
  <input type="search"
         class="form-control"
         name="q"
         id="search-input"
         placeholder="Search..."
         aria-label="Search..."
         autocomplete="off"
         autocorrect="off"
         autocapitalize="off"
         spellcheck="false"/>
  <span class="search-button__kbd-shortcut"><kbd class="kbd-shortcut__modifier">Ctrl</kbd>+<kbd>K</kbd></span>
</form></div>
  </div>

  <div class="pst-async-banner-revealer d-none">
  <aside id="bd-header-version-warning" class="d-none d-print-none" aria-label="Version warning"></aside>
</div>

  
    <header class="bd-header navbar navbar-expand-lg bd-navbar d-print-none">
    </header>
  

  <div class="bd-container">
    <div class="bd-container__inner bd-page-width">
      
      
      
      <div class="bd-sidebar-primary bd-sidebar">
        

  
  <div class="sidebar-header-items sidebar-primary__section">
    
    
    
    
  </div>
  
    <div class="sidebar-primary-items__start sidebar-primary__section">
        <div class="sidebar-primary-item">

  
    
  

<a class="navbar-brand logo" href="index.html">
  
  
  
  
  
    
    
      
    
    
    <img src="_static/floor_mat.png" class="logo__image only-light" alt="BMM Beamline Manual 0.1 documentation - Home"/>
    <script>document.write(`<img src="_static/floor_mat.png" class="logo__image only-dark" alt="BMM Beamline Manual 0.1 documentation - Home"/>`);</script>
  
  
</a></div>
        <div class="sidebar-primary-item">

 <script>
 document.write(`
   <button class="btn search-button-field search-button__button" title="Search" aria-label="Search" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <i class="fa-solid fa-magnifying-glass"></i>
    <span class="search-button__default-text">Search</span>
    <span class="search-button__kbd-shortcut"><kbd class="kbd-shortcut__modifier">Ctrl</kbd>+<kbd class="kbd-shortcut__modifier">K</kbd></span>
   </button>
 `);
 </script></div>
        <div class="sidebar-primary-item"><nav class="bd-links bd-docs-nav" aria-label="Main">
    <div class="bd-toc-item navbar-nav active">
        <p aria-level="2" class="caption" role="heading"><span class="caption-text">User documentation</span></p>
<ul class="current nav bd-sidenav">
<li class="toctree-l1"><a class="reference internal" href="intro.html">1. Introduction to BMM</a></li>
<li class="toctree-l1"><a class="reference internal" href="proposal.html">2. Proposal Writing for BMM</a></li>
<li class="toctree-l1"><a class="reference internal" href="before.html">3. Before your Beamtime</a></li>
<li class="toctree-l1"><a class="reference internal" href="data.html">4. Data access</a></li>
<li class="toctree-l1"><a class="reference internal" href="instruments.html">5. Beamline instrumentation</a></li>
<li class="toctree-l1"><a class="reference internal" href="motors.html">6. Moving and querying motors</a></li>
<li class="toctree-l1"><a class="reference internal" href="pds.html">7. Photon Delivery System</a></li>
<li class="toctree-l1"><a class="reference internal" href="linescans.html">8. Sample position scans</a></li>
<li class="toctree-l1"><a class="reference internal" href="xafs.html">9. XAFS scans</a></li>
<li class="toctree-l1 current active"><a class="current reference internal" href="#">10. Other measurement needs</a></li>
<li class="toctree-l1"><a class="reference internal" href="automation.html">11. Beamline automation</a></li>
<li class="toctree-l1"><a class="reference internal" href="log.html">12. Experimental Log</a></li>
<li class="toctree-l1"><a class="reference internal" href="manage.html">13. Managing the beamline</a></li>
<li class="toctree-l1"><a class="reference internal" href="commonchores.html">14. Common chores</a></li>
<li class="toctree-l1"><a class="reference internal" href="cheatsheet.html">15. Command cheatsheet</a></li>
<li class="toctree-l1"><a class="reference internal" href="trouble.html">16. Troubleshooting</a></li>
</ul>
<p aria-level="2" class="caption" role="heading"><span class="caption-text">Staff documentation</span></p>
<ul class="nav bd-sidenav">
<li class="toctree-l1"><a class="reference internal" href="desktop.html">A. BMM’s Desktop</a></li>
<li class="toctree-l1"><a class="reference internal" href="profile.html">B. An overview of BMM’s profile</a></li>
<li class="toctree-l1"><a class="reference internal" href="kafka.html">C. Kafka workers at BMM</a></li>
<li class="toctree-l1"><a class="reference internal" href="ionchambers.html">D. Ion chamber signal chains</a></li>
<li class="toctree-l1"><a class="reference internal" href="details.html">E. Instrumentation Details</a></li>
<li class="toctree-l1"><a class="reference internal" href="restore.html">F. Power outage recovery</a></li>
<li class="toctree-l1"><a class="reference internal" href="photos.html">G. Photo Galleries</a></li>
<li class="toctree-l1"><a class="reference internal" href="todo.html">H. To Do List</a></li>
</ul>

    </div>
</nav></div>
    </div>
  
  
  <div class="sidebar-primary-items__end sidebar-primary__section">
  </div>
  
  <div id="rtd-footer-container"></div>


      </div>
      
      <main id="main-content" class="bd-main" role="main">
        
        

<div class="sbt-scroll-pixel-helper"></div>

          <div class="bd-content">
            <div class="bd-article-container">
              
              <div class="bd-header-article d-print-none">
<div class="header-article-items header-article__inner">
  
    <div class="header-article-items__start">
      
        <div class="header-article-item"><button class="sidebar-toggle primary-toggle btn btn-sm" title="Toggle primary sidebar" data-bs-placement="bottom" data-bs-toggle="tooltip">
  <span class="fa-solid fa-bars"></span>
</button></div>
      
    </div>
  
  
    <div class="header-article-items__end">
      
        <div class="header-article-item">

<div class="article-header-buttons">





<div class="dropdown dropdown-source-buttons">
  <button class="btn dropdown-toggle" type="button" data-bs-toggle="dropdown" aria-expanded="false" aria-label="Source repositories">
    <i class="fab fa-github"></i>
  </button>
  <ul class="dropdown-menu">
      
      
      
      <li><a href="https://github.com/NSLS2/bmm-beamline-manual" target="_blank"
   class="btn btn-sm btn-source-repository-button dropdown-item"
   title="Source repository"
   data-bs-placement="left" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fab fa-github"></i>
  </span>
<span class="btn__text-container">Repository</span>
</a>
</li>
      
      
      
      
      <li><a href="https://github.com/NSLS2/bmm-beamline-manual/issues/new?title=Issue%20on%20page%20%2Fother.html&body=Your%20issue%20content%20here." target="_blank"
   class="btn btn-sm btn-source-issues-button dropdown-item"
   title="Open an issue"
   data-bs-placement="left" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fas fa-lightbulb"></i>
  </span>
<span class="btn__text-container">Open issue</span>
</a>
</li>
      
  </ul>
</div>






<div class="dropdown dropdown-download-buttons">
  <button class="btn dropdown-toggle" type="button" data-bs-toggle="dropdown" aria-expanded="false" aria-label="Download this page">
    <i class="fas fa-download"></i>
  </button>
  <ul class="dropdown-menu">
      
      
      
      <li><a href="_sources/other.rst" target="_blank"
   class="btn btn-sm btn-download-source-button dropdown-item"
   title="Download source file"
   data-bs-placement="left" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fas fa-file"></i>
  </span>
<span class="btn__text-container">.rst</span>
</a>
</li>
      
      
      
      
      <li>
<button onclick="window.print()"
  class="btn btn-sm btn-download-pdf-button dropdown-item"
  title="Print to PDF"
  data-bs-placement="left" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fas fa-file-pdf"></i>
  </span>
<span class="btn__text-container">.pdf</span>
</button>
</li>
      
  </ul>
</div>




<button onclick="toggleFullScreen()"
  class="btn btn-sm btn-fullscreen-button"
  title="Fullscreen mode"
  data-bs-placement="bottom" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fas fa-expand"></i>
  </span>

</button>



<script>
document.write(`
  <button class="btn btn-sm nav-link pst-navbar-icon theme-switch-button" title="light/dark" aria-label="light/dark" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <i class="theme-switch fa-solid fa-sun fa-lg" data-mode="light"></i>
    <i class="theme-switch fa-solid fa-moon fa-lg" data-mode="dark"></i>
    <i class="theme-switch fa-solid fa-circle-half-stroke fa-lg" data-mode="auto"></i>
  </button>
`);
</script>


<script>
document.write(`
  <button class="btn btn-sm pst-navbar-icon search-button search-button__button" title="Search" aria-label="Search" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <i class="fa-solid fa-magnifying-glass fa-lg"></i>
  </button>
`);
</script>
<button class="sidebar-toggle secondary-toggle btn btn-sm" title="Toggle secondary sidebar" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <span class="fa-solid fa-list"></span>
</button>
</div></div>
      
    </div>
  
</div>
</div>
              
              

<div id="jb-print-docs-body" class="onlyprint">
    <h1>Other measurement needs</h1>
    <!-- Table of contents -->
    <div id="print-main-content">
        <div id="jb-print-toc">
            
            <div>
                <h2> Contents </h2>
            </div>
            <nav aria-label="Page">
                <ul class="visible nav section-nav flex-column">
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#sead">10.1. SEAD</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#raster">10.2. Raster</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#xrf-spectra">10.3. XRF spectra</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#glancing-angle-stage">10.4. Glancing angle stage</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#linkam-stage">10.5. Linkam stage</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#lakeshore-controller-and-displex">10.6. Lakeshore controller and Displex</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#wafers">10.7. Wafers</a></li>
</ul>
            </nav>
        </div>
    </div>
</div>

              
                
<div id="searchbox"></div>
                <article class="bd-article">
                  
  <section id="other-measurement-needs">
<span id="other-measurements"></span><h1><span class="section-number">10. </span>Other measurement needs<a class="headerlink" href="#other-measurement-needs" title="Permalink to this heading">#</a></h1>
<section id="sead">
<h2><span class="section-number">10.1. </span>SEAD<a class="headerlink" href="#sead" title="Permalink to this heading">#</a></h2>
<div class="admonition-todo admonition" id="id1">
<p class="admonition-title">Todo</p>
<ul class="simple">
<li><p>Single energy absorption detection</p></li>
<li><p>Term coined in <a class="reference external" href="https://doi.org/10.1088/0953-8984/10/1/026">a paper by Filipponi et al.</a></p></li>
<li><p>explain INI file, plotting, dossier</p></li>
</ul>
</div>
</section>
<section id="raster">
<h2><span class="section-number">10.2. </span>Raster<a class="headerlink" href="#raster" title="Permalink to this heading">#</a></h2>
<div class="admonition-todo admonition" id="id2">
<p class="admonition-title">Todo</p>
<ul class="simple">
<li><p>Single ROI area scans.  A map of sorts.</p></li>
<li><p>explain INI file, plotting, dossier</p></li>
</ul>
</div>
</section>
<section id="xrf-spectra">
<span id="xrf"></span><h2><span class="section-number">10.3. </span>XRF spectra<a class="headerlink" href="#xrf-spectra" title="Permalink to this heading">#</a></h2>
<div class="admonition-todo admonition" id="id3">
<p class="admonition-title">Todo</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">%xrf</span></code></p></li>
<li><p>XRF as a metadata measurement</p></li>
</ul>
</div>
</section>
<section id="glancing-angle-stage">
<span id="ga-stage"></span><h2><span class="section-number">10.4. </span>Glancing angle stage<a class="headerlink" href="#glancing-angle-stage" title="Permalink to this heading">#</a></h2>
<p>The glancing angle stage allows you to automate the alignment and
measurement of up to 8 sample, optionally spinning the samples to
suppress diffraction peaks from crystalline substrates.</p>
<p>This is not intended as a standing wave experiment.  The angle chosen
for the incident beam relative to the sample is usually large compared
to the critical angle.</p>
<p>Rather, the purpose of this instrument is to spread the beam out over
the surface of the sample by placing the sample at a shallow angle to
the incident beam.  This significantly increases the number of atoms
contributing to the measurement, thus increasing the signal going to
the fluorescence detector.</p>
<p>Here are all the commands related to the operation of the glancing
angle stage.</p>
<dl>
<dt><code class="docutils literal notranslate"><span class="pre">RE(ga.to(N))</span></code></dt><dd><p>Rotate to sample N (N is an integer between 1 and 8).  All spinners
are halted and spinner N is started, unless <code class="docutils literal notranslate"><span class="pre">ga.spin</span></code> is False.</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">RE(ga.auto_align(angle))</span></code></dt><dd><p>Run the <a class="reference internal" href="automation.html#auto-ga"><span class="std std-numref">automated alignment procedure (Section 11.6)</span></a> to align the sample at the specified angle (in degrees)
relative the flat position.</p>
<p>The automated alignment procedure should always start when the
stage is flat or approximately flat relative to the incoming beam.
If you just aligned another sample, you should do either</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">RE</span><span class="p">(</span><span class="n">ga</span><span class="o">.</span><span class="n">flatten</span><span class="p">())</span>
</pre></div>
</div>
<p>or</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">RE</span><span class="p">(</span><span class="n">mvr</span><span class="p">(</span><span class="n">xafs_pitch</span><span class="p">,</span> <span class="o">-</span><span class="n">angle</span><span class="p">))</span>
</pre></div>
</div>
<p>where <code class="docutils literal notranslate"><span class="pre">angle</span></code> is the argument to the previous
<code class="docutils literal notranslate"><span class="pre">ga.auto_align())</span></code> command or the angle to moved to if doing the
alignment by hand.</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">RE(ga.flatten())</span></code></dt><dd><p>For a sample that has been aligned by the automated alignment
procedure, return the sample to the position of flat and parallel
to the beam.</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">ga.spin</span></code></dt><dd><p>This is True if the sample should be spinning during measurement.
So</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">ga</span><span class="o">.</span><span class="n">spin</span> <span class="o">=</span> <span class="kc">True</span>
</pre></div>
</div>
<p>or</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">ga</span><span class="o">.</span><span class="n">spin</span> <span class="o">=</span> <span class="kc">False</span>
</pre></div>
</div>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">ga.orientation</span></code></dt><dd><p>This is a string, either <code class="docutils literal notranslate"><span class="pre">parallel</span></code> or <code class="docutils literal notranslate"><span class="pre">perpendicular</span></code>
depending on the orientation of the sample stage.  This orientation
is referring to the relative orientation of the surface of the
spinning sample and the electric vector of the incident beam.  So</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">ga</span><span class="o">.</span><span class="n">orientation</span> <span class="o">=</span> <span class="s1">&#39;parallel&#39;</span>
</pre></div>
</div>
<p>or</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">ga</span><span class="o">.</span><span class="n">orientation</span> <span class="o">=</span> <span class="s1">&#39;perpendicular&#39;</span>
</pre></div>
</div>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">ga.on(N)</span></code></dt><dd><p>Turn on spinner N, where N is an integer between 1 and 8</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">ga.off(N)</span></code></dt><dd><p>Turn off spinner N, where N is an integer between 1 and 8</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">ga.alloff()</span></code></dt><dd><p>Turn off all spinners.</p>
</dd>
</dl>
<p>Once a sample is aligned and placed at the correct angle, you need to
set the detector position to optimize the fluorescence signal.  Here
are the relevant commands:</p>
<dl>
<dt><code class="docutils literal notranslate"><span class="pre">%xrf</span></code></dt><dd><p>Measure an display a fluorescence spectrum.  You want the total
count rate (the OCR column in the table printed to the screen) to
be around 200,000 counts on each of the 7 channels.  Not the sum of
channel!  Each channel can be as high as 200,000 counts.</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">RE(mv(xafs_detx,</span> <span class="pre">YYY))</span></code></dt><dd><p>Move the detector to a new position, <code class="docutils literal notranslate"><span class="pre">YYY</span></code>, where that indicates
a floating point number, typically something between 10 and 205.
When you move the detector to a new position, always remeasure the
XRF spectrum with <code class="docutils literal notranslate"><span class="pre">%xrf</span></code>.</p>
<p>The fully retracted position is 205.  The closest position is
usually set as a software limit when the experiment is being set
up.</p>
</dd>
</dl>
</section>
<section id="linkam-stage">
<span id="linkam"></span><h2><span class="section-number">10.5. </span>Linkam stage<a class="headerlink" href="#linkam-stage" title="Permalink to this heading">#</a></h2>
<p>Here are the main commands for interacting with the linkam stage.</p>
<dl class="simple">
<dt><code class="docutils literal notranslate"><span class="pre">linkam.on()</span></code></dt><dd><p>Turn the heater on, enable temperature feedback.</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">linkam.off()</span></code></dt><dd><p>Turn the heater off, disable temperature feedback.</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">linkam.temperature()</span></code></dt><dd><p>Return the current temperature of the stage.</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">linkam.status()</span></code></dt><dd><p>Write a nicely formatted status summary to the screen.</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">RE(mv(linkam,</span> <span class="pre">TEMP))</span></code></dt><dd><p>Change linkam temparature with a progress bar printed on screen.</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">RE(mv(busy,</span> <span class="pre">TIME))</span></code></dt><dd><p>Wait for an equilibrium time with a progress bar printed on screen/</p>
</dd>
</dl>
<p>Note that the controls are not complete.  When using the linkam stage
as an LN2 cryostat, you need to manually turn the pump on and off
using the CSS screen.</p>
<div class="admonition-future-tech admonition">
<p class="admonition-title">Future tech</p>
<p>Implement something using <code class="docutils literal notranslate"><span class="pre">linkam.lnp_speed</span></code> to control the pump.</p>
</div>
<p>Other parts of the beamline manual related to the Linkam stage:</p>
<ul class="simple">
<li><p>See <a class="reference internal" href="automation.html#auto-linkam"><span class="std std-numref">Section 11.4</span></a> for details about Linkam
automation using a spreadsheet.</p></li>
<li><p>See <a class="reference internal" href="commonchores.html#restart-linkam"><span class="std std-numref">Section 14.4</span></a> for instructions on
stopping and unmounting the Linkam stage and instructions for
remounting and restarting the stage.</p></li>
<li><p>See <a class="reference internal" href="commonchores.html#ln2-fill"><span class="std std-numref">Section 14.5</span></a> for the procedure for refilling
the 25L liquid nitrogen dewar.</p></li>
<li><p>A discussion of the homebrewed Ophyd object for the linkam stage:
<a class="reference external" href="https://nsls-ii-bmm.github.io/bluesky-by-example/linkam.html">https://nsls-ii-bmm.github.io/bluesky-by-example/linkam.html</a></p></li>
</ul>
</section>
<section id="lakeshore-controller-and-displex">
<span id="lakeshore"></span><h2><span class="section-number">10.6. </span>Lakeshore controller and Displex<a class="headerlink" href="#lakeshore-controller-and-displex" title="Permalink to this heading">#</a></h2>
<p>Here are the main commands for interacting with the linkam stage.</p>
<dl class="simple">
<dt><code class="docutils literal notranslate"><span class="pre">lakeshore.on()</span></code></dt><dd><p>Turn the heater on, enable temperature feedback.</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">lakeshore.off()</span></code></dt><dd><p>Turn the heater off, disable temperature feedback.</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">lakeshore.readback.get()</span></code></dt><dd><p>Return the current temperature of the stage.</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">lakeshore.setpoint.get()</span></code></dt><dd><p>Return the current setpoint of the stage.</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">lakeshore.status()</span></code></dt><dd><p>Write a nicely formatted status summary to the screen.</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">lakeshore.to(TEMP)</span></code></dt><dd><p>Move to the indicated temperature with a progress bar that will
count down the approximate time required to make this change.  This
works much more reliably in the heating direction than in the
cooling direction.</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">lakeshore.units(UNIT)</span></code></dt><dd><p>Switch between C and K units on the CSS screen.</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">lakeshore.level(POWER_LEVEL)</span></code></dt><dd><p>Switch the four heater output levels.  <code class="docutils literal notranslate"><span class="pre">low</span></code> means that 100 mA
will be available for the heater.  <code class="docutils literal notranslate"><span class="pre">medium</span></code> is 300 mA.  <code class="docutils literal notranslate"><span class="pre">high</span></code>
is 1 amp.  Any other string will be interpreted as turning the
heater off.  <code class="docutils literal notranslate"><span class="pre">high</span></code> is almost always the correct choice.</p>
</dd>
</dl>
<p>Other parts of the beamline manual related to the Lakeshore controller
and the Displex cryostat:</p>
<ul class="simple">
<li><p>See <a class="reference internal" href="automation.html#auto-lakeshore"><span class="std std-numref">Section 11.5</span></a> for details about
Lakeshore automation using a spreadsheet.</p></li>
<li><p>See <a class="reference internal" href="photos.html#fig-hoist-cryo"><span class="std std-numref">Figure G.2</span></a> to see how to set the
hoisting straps for lifting the cryostat onto the <code class="docutils literal notranslate"><span class="pre">xafs_y</span></code> stage.</p></li>
</ul>
</section>
<section id="wafers">
<span id="id4"></span><h2><span class="section-number">10.7. </span>Wafers<a class="headerlink" href="#wafers" title="Permalink to this heading">#</a></h2>
<p>There is some functionality specifically for measuring films grown on
large, round wafers.  The basic experiment involves measuring XAS of 1
or more edges from selected positions on a film.  BMM has sample
holders specifically designed for holding standard size silica or
crystalline wafers.</p>
<p>Most such experiments involve reliable motion to specific locations on
the film.  This usually starts with finding the center of the wafer
and indexing locations relative to the center.</p>
<p>The method for finding the center involves finding the X,Y coordinates
of three points around the periphery of the wafer, then using
<a class="reference external" href="https://docs.sympy.org/latest/modules/geometry/index.html">geometry</a>
to find the <a class="reference external" href="https://docs.sympy.org/latest/modules/geometry/polygons.html#sympy.geometry.polygon.Triangle.circumcenter">center of the circle</a>
intersecting those three points.</p>
<dl class="simple">
<dt><code class="docutils literal notranslate"><span class="pre">RE(wafer.edge())</span></code></dt><dd><p>With the focused beam in the vicinity of a point on the edge of
the wafer, make a scan in <code class="docutils literal notranslate"><span class="pre">xafs_x</span></code>, plotting the signal on I<sub>t</sub>, to find the X,Y coordinates of a point in the edge.
This method will execute the <a class="reference internal" href="linescans.html#linescan"><span class="std std-numref">linescan (Section 8)</span></a>, fit a lineshape to the measurement, then move to the
position of the wafer’s edge.
This must be repeated three times on three widely spaced
points.</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">wafer.push()</span></code></dt><dd><p>After finding a point using <code class="docutils literal notranslate"><span class="pre">RE(wafer.edge())</span></code>, push the current
X,Y coordinates to a list.  After three measurements of the wafer
edge, this list will contain the three X,Y
coordinates of edge points.</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">wafer.points</span></code></dt><dd><p>The list containing the three edge points.</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">wafer.find_center()</span></code></dt><dd><p>Compute the wafer center from the contents of <code class="docutils literal notranslate"><span class="pre">wafer.points</span></code>.</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">RE(wafer.goto.center())</span></code></dt><dd><p>Move the <code class="docutils literal notranslate"><span class="pre">xafs_x</span></code> and <code class="docutils literal notranslate"><span class="pre">xafs_y</span></code> stages to the center position.</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">wafer.center</span></code></dt><dd><p>The center position of the wafer.</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">wafer.clear()</span></code></dt><dd><p>Clear the contents of <code class="docutils literal notranslate"><span class="pre">wafer.points</span></code> in order to start over.</p>
</dd>
</dl>

<br>
</section>
</section>


                </article>
              

              
              
              
              
                <footer class="prev-next-footer d-print-none">
                  
<div class="prev-next-area">
    <a class="left-prev"
       href="xafs.html"
       title="previous page">
      <i class="fa-solid fa-angle-left"></i>
      <div class="prev-next-info">
        <p class="prev-next-subtitle">previous</p>
        <p class="prev-next-title"><span class="section-number">9. </span>XAFS scans</p>
      </div>
    </a>
    <a class="right-next"
       href="automation.html"
       title="next page">
      <div class="prev-next-info">
        <p class="prev-next-subtitle">next</p>
        <p class="prev-next-title"><span class="section-number">11. </span>Beamline automation</p>
      </div>
      <i class="fa-solid fa-angle-right"></i>
    </a>
</div>
                </footer>
              
            </div>
            
            
              
                <div class="bd-sidebar-secondary bd-toc"><div class="sidebar-secondary-items sidebar-secondary__inner">


  <div class="sidebar-secondary-item">
  <div class="page-toc tocsection onthispage">
    <i class="fa-solid fa-list"></i> Contents
  </div>
  <nav class="bd-toc-nav page-toc">
    <ul class="visible nav section-nav flex-column">
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#sead">10.1. SEAD</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#raster">10.2. Raster</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#xrf-spectra">10.3. XRF spectra</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#glancing-angle-stage">10.4. Glancing angle stage</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#linkam-stage">10.5. Linkam stage</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#lakeshore-controller-and-displex">10.6. Lakeshore controller and Displex</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#wafers">10.7. Wafers</a></li>
</ul>
  </nav></div>

</div></div>
              
            
          </div>
          <footer class="bd-footer-content">
            
<div class="bd-footer-content__inner container">
  
  <div class="footer-item">
    
<p class="component-author">
By Bruce Ravel
</p>

  </div>
  
  <div class="footer-item">
    

  </div>
  
  <div class="footer-item">
    
  </div>
  
  <div class="footer-item">
    
  </div>
  
</div>
          </footer>
        

      </main>
    </div>
  </div>
  
  <!-- Scripts loaded after <body> so the DOM is not blocked -->
  <script src="_static/scripts/bootstrap.js?digest=dfe6caa3a7d634c4db9b"></script>
<script src="_static/scripts/pydata-sphinx-theme.js?digest=dfe6caa3a7d634c4db9b"></script>

  <footer class="bd-footer">
  </footer>
  </body>
</html>